-- Warpah Carry - Stealth Carry System
-- Compact Professional Design

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

if game.CoreGui:FindFirstChild("WarpahCarryGUI") then
    game.CoreGui.WarpahCarryGUI:Destroy()
end

local Config = {
    CarryEnabled = false,
    TargetPlayer = nil,
    FollowDistance = 0.5,
    InvisibleMode = true,
    IsMinimized = false
}

local function MakeInvisible()
    if not Config.InvisibleMode then return end
    
    pcall(function()
        local char = LocalPlayer.Character
        if char then
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") or part:IsA("Decal") then
                    part.Transparency = 1
                elseif part:IsA("Accessory") then
                    for _, accessoryPart in pairs(part:GetDescendants()) do
                        if accessoryPart:IsA("BasePart") then
                            accessoryPart.Transparency = 1
                        end
                    end
                end
            end
            
            if char:FindFirstChild("Head") then
                for _, child in pairs(char.Head:GetChildren()) do
                    if child:IsA("BillboardGui") then
                        child.Enabled = false
                    end
                end
            end
        end
    end)
end

local function MakeVisible()
    pcall(function()
        local char = LocalPlayer.Character
        if char then
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                    part.Transparency = 0
                elseif part:IsA("Accessory") then
                    for _, accessoryPart in pairs(part:GetDescendants()) do
                        if accessoryPart:IsA("BasePart") then
                            accessoryPart.Transparency = 0
                        end
                    end
                end
            end
            
            if char:FindFirstChild("Head") then
                char.Head.Transparency = 0
                for _, child in pairs(char.Head:GetChildren()) do
                    if child:IsA("BillboardGui") then
                        child.Enabled = true
                    end
                end
            end
        end
    end)
end

local function GetAllPlayersWithDistance()
    local playerList = {}
    
    pcall(function()
        if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            return
        end
        
        local localPos = LocalPlayer.Character.HumanoidRootPart.Position
        
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                pcall(function()
                    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                        local distance = (player.Character.HumanoidRootPart.Position - localPos).Magnitude
                        table.insert(playerList, {
                            Player = player,
                            Distance = math.floor(distance)
                        })
                    end
                end)
            end
        end
        
        table.sort(playerList, function(a, b)
            return a.Distance < b.Distance
        end)
    end)
    
    return playerList
end

local function FollowPlayer()
    if not Config.CarryEnabled or not Config.TargetPlayer then return end
    
    pcall(function()
        local targetChar = Config.TargetPlayer.Character
        local localChar = LocalPlayer.Character
        
        if targetChar and localChar and targetChar:FindFirstChild("HumanoidRootPart") and localChar:FindFirstChild("HumanoidRootPart") then
            local targetRoot = targetChar.HumanoidRootPart
            local localRoot = localChar.HumanoidRootPart
            
            local backDirection = -targetRoot.CFrame.LookVector
            local backPosition = targetRoot.Position + (backDirection * Config.FollowDistance)
            local newPosition = Vector3.new(backPosition.X, targetRoot.Position.Y, backPosition.Z)
            local lookAtTarget = CFrame.new(newPosition, Vector3.new(targetRoot.Position.X, newPosition.Y, targetRoot.Position.Z))
            
            localRoot.CFrame = lookAtTarget
            
            if localRoot:FindFirstChild("BodyVelocity") then
                localRoot.BodyVelocity:Destroy()
            end
            
            if Config.InvisibleMode then
                MakeInvisible()
            end
        end
    end)
end

local function CreateGUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "WarpahCarryGUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local success = pcall(function()
        ScreenGui.Parent = game:GetService("CoreGui")
    end)
    
    if not success then
        ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
    end
    
    -- Main Container
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 280, 0, 380)
    MainFrame.Position = UDim2.new(1, -290, 0.5, -190)
    MainFrame.BackgroundColor3 = Color3.fromRGB(18, 18, 22)
    MainFrame.BorderSizePixel = 0
    MainFrame.Active = true
    MainFrame.Draggable = true
    MainFrame.ClipsDescendants = true
    MainFrame.Parent = ScreenGui
    
    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, 8)
    MainCorner.Parent = MainFrame
    
    local MainStroke = Instance.new("UIStroke")
    MainStroke.Color = Color3.fromRGB(40, 40, 45)
    MainStroke.Thickness = 1
    MainStroke.Parent = MainFrame
    
    -- Header
    local Header = Instance.new("Frame")
    Header.Size = UDim2.new(1, 0, 0, 45)
    Header.BackgroundColor3 = Color3.fromRGB(22, 22, 28)
    Header.BorderSizePixel = 0
    Header.Parent = MainFrame
    
    local HeaderCorner = Instance.new("UICorner")
    HeaderCorner.CornerRadius = UDim.new(0, 8)
    HeaderCorner.Parent = Header
    
    local HeaderBottom = Instance.new("Frame")
    HeaderBottom.Size = UDim2.new(1, 0, 0, 8)
    HeaderBottom.Position = UDim2.new(0, 0, 1, -8)
    HeaderBottom.BackgroundColor3 = Color3.fromRGB(22, 22, 28)
    HeaderBottom.BorderSizePixel = 0
    HeaderBottom.Parent = Header
    
    local AccentLine = Instance.new("Frame")
    AccentLine.Size = UDim2.new(1, 0, 0, 2)
    AccentLine.Position = UDim2.new(0, 0, 1, 0)
    AccentLine.BackgroundColor3 = Color3.fromRGB(0, 230, 118)
    AccentLine.BorderSizePixel = 0
    AccentLine.Parent = Header
    
    -- Title
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -80, 1, 0)
    Title.Position = UDim2.new(0, 12, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = "Warpah Carry"
    Title.TextColor3 = Color3.fromRGB(240, 240, 245)
    Title.TextSize = 14
    Title.Font = Enum.Font.GothamBold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = Header
    
    -- Buttons Container
    local ButtonsFrame = Instance.new("Frame")
    ButtonsFrame.Size = UDim2.new(0, 60, 0, 25)
    ButtonsFrame.Position = UDim2.new(1, -70, 0, 10)
    ButtonsFrame.BackgroundTransparency = 1
    ButtonsFrame.Parent = Header
    
    local ButtonLayout = Instance.new("UIListLayout")
    ButtonLayout.FillDirection = Enum.FillDirection.Horizontal
    ButtonLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
    ButtonLayout.Padding = UDim.new(0, 6)
    ButtonLayout.Parent = ButtonsFrame
    
    -- Minimize
    local MinimizeBtn = Instance.new("TextButton")
    MinimizeBtn.Size = UDim2.new(0, 25, 0, 25)
    MinimizeBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
    MinimizeBtn.Text = "−"
    MinimizeBtn.TextColor3 = Color3.fromRGB(200, 200, 210)
    MinimizeBtn.TextSize = 16
    MinimizeBtn.Font = Enum.Font.GothamBold
    MinimizeBtn.Parent = ButtonsFrame
    
    local MinCorner = Instance.new("UICorner")
    MinCorner.CornerRadius = UDim.new(0, 4)
    MinCorner.Parent = MinimizeBtn
    
    -- Close
    local CloseBtn = Instance.new("TextButton")
    CloseBtn.Size = UDim2.new(0, 25, 0, 25)
    CloseBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
    CloseBtn.Text = "×"
    CloseBtn.TextColor3 = Color3.fromRGB(200, 200, 210)
    CloseBtn.TextSize = 18
    CloseBtn.Font = Enum.Font.GothamBold
    CloseBtn.Parent = ButtonsFrame
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 4)
    CloseCorner.Parent = CloseBtn
    
    -- Content
    local Content = Instance.new("Frame")
    Content.Name = "Content"
    Content.Size = UDim2.new(1, 0, 1, -45)
    Content.Position = UDim2.new(0, 0, 0, 45)
    Content.BackgroundTransparency = 1
    Content.Parent = MainFrame
    
    -- Status
    local StatusFrame = Instance.new("Frame")
    StatusFrame.Size = UDim2.new(1, -16, 0, 36)
    StatusFrame.Position = UDim2.new(0, 8, 0, 8)
    StatusFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 32)
    StatusFrame.BorderSizePixel = 0
    StatusFrame.Parent = Content
    
    local StatusCorner = Instance.new("UICorner")
    StatusCorner.CornerRadius = UDim.new(0, 6)
    StatusCorner.Parent = StatusFrame
    
    local StatusDot = Instance.new("Frame")
    StatusDot.Size = UDim2.new(0, 8, 0, 8)
    StatusDot.Position = UDim2.new(0, 10, 0.5, -4)
    StatusDot.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
    StatusDot.BorderSizePixel = 0
    StatusDot.Parent = StatusFrame
    
    local DotCorner = Instance.new("UICorner")
    DotCorner.CornerRadius = UDim.new(1, 0)
    DotCorner.Parent = StatusDot
    
    local StatusText = Instance.new("TextLabel")
    StatusText.Name = "StatusText"
    StatusText.Size = UDim2.new(1, -28, 1, 0)
    StatusText.Position = UDim2.new(0, 24, 0, 0)
    StatusText.BackgroundTransparency = 1
    StatusText.Text = "Idle"
    StatusText.TextColor3 = Color3.fromRGB(180, 180, 190)
    StatusText.TextSize = 11
    StatusText.Font = Enum.Font.Gotham
    StatusText.TextXAlignment = Enum.TextXAlignment.Left
    StatusText.Parent = StatusFrame
    
    -- Search
    local SearchBox = Instance.new("TextBox")
    SearchBox.Size = UDim2.new(1, -16, 0, 32)
    SearchBox.Position = UDim2.new(0, 8, 0, 52)
    SearchBox.BackgroundColor3 = Color3.fromRGB(25, 25, 32)
    SearchBox.BorderSizePixel = 0
    SearchBox.PlaceholderText = "Search..."
    SearchBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 110)
    SearchBox.Text = ""
    SearchBox.TextColor3 = Color3.fromRGB(220, 220, 230)
    SearchBox.TextSize = 11
    SearchBox.Font = Enum.Font.Gotham
    SearchBox.ClearTextOnFocus = false
    SearchBox.Parent = Content
    
    local SearchCorner = Instance.new("UICorner")
    SearchCorner.CornerRadius = UDim.new(0, 6)
    SearchCorner.Parent = SearchBox
    
    local SearchPad = Instance.new("UIPadding")
    SearchPad.PaddingLeft = UDim.new(0, 10)
    SearchPad.PaddingRight = UDim.new(0, 10)
    SearchPad.Parent = SearchBox
    
    -- Player List
    local ScrollFrame = Instance.new("ScrollingFrame")
    ScrollFrame.Name = "PlayerList"
    ScrollFrame.Size = UDim2.new(1, -16, 1, -132)
    ScrollFrame.Position = UDim2.new(0, 8, 0, 92)
    ScrollFrame.BackgroundColor3 = Color3.fromRGB(22, 22, 28)
    ScrollFrame.BorderSizePixel = 0
    ScrollFrame.ScrollBarThickness = 3
    ScrollFrame.ScrollBarImageColor3 = Color3.fromRGB(0, 230, 118)
    ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
    ScrollFrame.Parent = Content
    
    local ScrollCorner = Instance.new("UICorner")
    ScrollCorner.CornerRadius = UDim.new(0, 6)
    ScrollCorner.Parent = ScrollFrame
    
    local ListLayout = Instance.new("UIListLayout")
    ListLayout.Padding = UDim.new(0, 4)
    ListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    ListLayout.Parent = ScrollFrame
    
    local ListPad = Instance.new("UIPadding")
    ListPad.PaddingLeft = UDim.new(0, 6)
    ListPad.PaddingRight = UDim.new(0, 6)
    ListPad.PaddingTop = UDim.new(0, 6)
    ListPad.PaddingBottom = UDim.new(0, 6)
    ListPad.Parent = ScrollFrame
    
    -- Bottom Buttons
    local BottomFrame = Instance.new("Frame")
    BottomFrame.Size = UDim2.new(1, -16, 0, 32)
    BottomFrame.Position = UDim2.new(0, 8, 1, -40)
    BottomFrame.BackgroundTransparency = 1
    BottomFrame.Parent = Content
    
    local BtnLayout = Instance.new("UIListLayout")
    BtnLayout.FillDirection = Enum.FillDirection.Horizontal
    BtnLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    BtnLayout.Padding = UDim.new(0, 6)
    BtnLayout.Parent = BottomFrame
    
    local StopBtn = Instance.new("TextButton")
    StopBtn.Size = UDim2.new(0.48, 0, 1, 0)
    StopBtn.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
    StopBtn.Text = "Stop"
    StopBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    StopBtn.TextSize = 11
    StopBtn.Font = Enum.Font.GothamMedium
    StopBtn.Parent = BottomFrame
    
    local StopCorner = Instance.new("UICorner")
    StopCorner.CornerRadius = UDim.new(0, 6)
    StopCorner.Parent = StopBtn
    
    local RefreshBtn = Instance.new("TextButton")
    RefreshBtn.Size = UDim2.new(0.48, 0, 1, 0)
    RefreshBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
    RefreshBtn.Text = "Refresh"
    RefreshBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    RefreshBtn.TextSize = 11
    RefreshBtn.Font = Enum.Font.GothamMedium
    RefreshBtn.Parent = BottomFrame
    
    local RefreshCorner = Instance.new("UICorner")
    RefreshCorner.CornerRadius = UDim.new(0, 6)
    RefreshCorner.Parent = RefreshBtn
    
    -- Update Players
    local function UpdatePlayerList(query)
        query = query or ""
        query = query:lower()
        
        pcall(function()
            for _, child in pairs(ScrollFrame:GetChildren()) do
                if child:IsA("Frame") then
                    child:Destroy()
                end
            end
            
            local players = GetAllPlayersWithDistance()
            
            if #players == 0 then
                local EmptyLabel = Instance.new("TextLabel")
                EmptyLabel.Size = UDim2.new(1, 0, 0, 30)
                EmptyLabel.BackgroundTransparency = 1
                EmptyLabel.Text = "No players"
                EmptyLabel.TextColor3 = Color3.fromRGB(120, 120, 130)
                EmptyLabel.TextSize = 11
                EmptyLabel.Font = Enum.Font.Gotham
                EmptyLabel.Parent = ScrollFrame
            else
                for i, data in ipairs(players) do
                    local player = data.Player
                    local dist = data.Distance
                    
                    if query == "" or player.Name:lower():find(query) then
                        local Card = Instance.new("Frame")
                        Card.Size = UDim2.new(1, -12, 0, 42)
                        Card.BackgroundColor3 = Color3.fromRGB(28, 28, 36)
                        Card.BorderSizePixel = 0
                        Card.LayoutOrder = i
                        Card.Parent = ScrollFrame
                        
                        local CardCorner = Instance.new("UICorner")
                        CardCorner.CornerRadius = UDim.new(0, 5)
                        CardCorner.Parent = Card
                        
                        local Btn = Instance.new("TextButton")
                        Btn.Size = UDim2.new(1, 0, 1, 0)
                        Btn.BackgroundTransparency = 1
                        Btn.Text = ""
                        Btn.Parent = Card
                        
                        local Avatar = Instance.new("Frame")
                        Avatar.Size = UDim2.new(0, 30, 0, 30)
                        Avatar.Position = UDim2.new(0, 6, 0.5, -15)
                        Avatar.BackgroundColor3 = Color3.fromRGB(0, 230, 118)
                        Avatar.BorderSizePixel = 0
                        Avatar.Parent = Card
                        
                        local AvatarCorner = Instance.new("UICorner")
                        AvatarCorner.CornerRadius = UDim.new(1, 0)
                        AvatarCorner.Parent = Avatar
                        
                        local AvatarText = Instance.new("TextLabel")
                        AvatarText.Size = UDim2.new(1, 0, 1, 0)
                        AvatarText.BackgroundTransparency = 1
                        AvatarText.Text = player.Name:sub(1, 2):upper()
                        AvatarText.TextColor3 = Color3.fromRGB(255, 255, 255)
                        AvatarText.TextSize = 13
                        AvatarText.Font = Enum.Font.GothamBold
                        AvatarText.Parent = Avatar
                        
                        local NameLabel = Instance.new("TextLabel")
                        NameLabel.Size = UDim2.new(1, -100, 0, 16)
                        NameLabel.Position = UDim2.new(0, 42, 0, 8)
                        NameLabel.BackgroundTransparency = 1
                        NameLabel.Text = player.Name
                        NameLabel.TextColor3 = Color3.fromRGB(220, 220, 230)
                        NameLabel.TextSize = 11
                        NameLabel.Font = Enum.Font.GothamMedium
                        NameLabel.TextXAlignment = Enum.TextXAlignment.Left
                        NameLabel.TextTruncate = Enum.TextTruncate.AtEnd
                        NameLabel.Parent = Card
                        
                        local DistLabel = Instance.new("TextLabel")
                        DistLabel.Size = UDim2.new(1, -100, 0, 14)
                        DistLabel.Position = UDim2.new(0, 42, 0, 22)
                        DistLabel.BackgroundTransparency = 1
                        DistLabel.Text = dist .. " studs"
                        DistLabel.TextColor3 = Color3.fromRGB(130, 130, 145)
                        DistLabel.TextSize = 9
                        DistLabel.Font = Enum.Font.Gotham
                        DistLabel.TextXAlignment = Enum.TextXAlignment.Left
                        DistLabel.Parent = Card
                        
                        local Indicator = Instance.new("Frame")
                        Indicator.Name = "Indicator"
                        Indicator.Size = UDim2.new(0, 3, 1, -8)
                        Indicator.Position = UDim2.new(1, -6, 0, 4)
                        Indicator.BackgroundColor3 = Color3.fromRGB(0, 230, 118)
                        Indicator.BorderSizePixel = 0
                        Indicator.Visible = false
                        Indicator.Parent = Card
                        
                        local IndCorner = Instance.new("UICorner")
                        IndCorner.CornerRadius = UDim.new(1, 0)
                        IndCorner.Parent = Indicator
                        
                        Btn.MouseEnter:Connect(function()
                            if Config.TargetPlayer ~= player then
                                Card.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
                            end
                        end)
                        
                        Btn.MouseLeave:Connect(function()
                            if Config.TargetPlayer ~= player then
                                Card.BackgroundColor3 = Color3.fromRGB(28, 28, 36)
                            end
                        end)
                        
                        Btn.MouseButton1Click:Connect(function()
                            Config.TargetPlayer = player
                            Config.CarryEnabled = true
                            
                            StatusText.Text = "Following " .. player.Name
                            StatusDot.BackgroundColor3 = Color3.fromRGB(0, 230, 118)
                            
                            if Config.InvisibleMode then
                                MakeInvisible()
                            end
                            
                            for _, c in pairs(ScrollFrame:GetChildren()) do
                                if c:IsA("Frame") and c:FindFirstChild("Indicator") then
                                    c.BackgroundColor3 = Color3.fromRGB(28, 28, 36)
                                    c.Indicator.Visible = false
                                end
                            end
                            
                            Card.BackgroundColor3 = Color3.fromRGB(15, 65, 40)
                            Indicator.Visible = true
                        end)
                    end
                end
            end
            
            ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y + 12)
        end)
    end
    
    SearchBox:GetPropertyChangedSignal("Text"):Connect(function()
        UpdatePlayerList(SearchBox.Text)
    end)
    
    -- Button Actions
    MinimizeBtn.MouseButton1Click:Connect(function()
        Config.IsMinimized = not Config.IsMinimized
        
        if Config.IsMinimized then
            MinimizeBtn.Text = "□"
            Content.Visible = false
            TweenService:Create(MainFrame, TweenInfo.new(0.25, Enum.EasingStyle.Quart), {
                Size = UDim2.new(0, 280, 0, 45)
            }):Play()
        else
            MinimizeBtn.Text = "−"
            Content.Visible = true
            TweenService:Create(MainFrame, TweenInfo.new(0.25, Enum.EasingStyle.Quart), {
                Size = UDim2.new(0, 280, 0, 380)
            }):Play()
        end
    end)
    
    CloseBtn.MouseButton1Click:Connect(function()
        Config.CarryEnabled = false
        MakeVisible()
        ScreenGui:Destroy()
    end)
    
    StopBtn.MouseButton1Click:Connect(function()
        Config.CarryEnabled = false
        Config.TargetPlayer = nil
        StatusText.Text = "Idle"
        StatusDot.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
        
        MakeVisible()
        
        for _, c in pairs(ScrollFrame:GetChildren()) do
            if c:IsA("Frame") and c:FindFirstChild("Indicator") then
                c.BackgroundColor3 = Color3.fromRGB(28, 28, 36)
                c.Indicator.Visible = false
            end
        end
    end)
    
    RefreshBtn.MouseButton1Click:Connect(function()
        UpdatePlayerList(SearchBox.Text)
    end)
    
    -- Hover Effects
    MinimizeBtn.MouseEnter:Connect(function()
        MinimizeBtn.BackgroundColor3 = Color3.fromRGB(55, 55, 62)
    end)
    MinimizeBtn.MouseLeave:Connect(function()
        MinimizeBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
    end)
    
    CloseBtn.MouseEnter:Connect(function()
        CloseBtn.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
        CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    end)
    CloseBtn.MouseLeave:Connect(function()
        CloseBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
        CloseBtn.TextColor3 = Color3.fromRGB(200, 200, 210)
    end)
    
    StopBtn.MouseEnter:Connect(function()
        StopBtn.BackgroundColor3 = Color3.fromRGB(255, 88, 88)
    end)
    StopBtn.MouseLeave:Connect(function()
        StopBtn.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
    end)
    
    RefreshBtn.MouseEnter:Connect(function()
        RefreshBtn.BackgroundColor3 = Color3.fromRGB(0, 230, 118)
    end)
    RefreshBtn.MouseLeave:Connect(function()
        RefreshBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
    end)
    
    UpdatePlayerList()
    
    spawn(function()
        while ScreenGui and ScreenGui.Parent do
            wait(5)
            if ScreenGui and ScreenGui.Parent and not Config.CarryEnabled then
                pcall(function()
                    UpdatePlayerList(SearchBox.Text)
                end)
            end
        end
    end)
    
    MainFrame.Position = UDim2.new(1, 50, 0.5, -190)
    TweenService:Create(MainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Position = UDim2.new(1, -290, 0.5, -190)
    }):Play()
end

local connection
connection = RunService.Heartbeat:Connect(function()
    if Config.CarryEnabled and Config.TargetPlayer then
        FollowPlayer()
    end
end)

LocalPlayer.CharacterAdded:Connect(function(char)
    wait(0.5)
    if Config.CarryEnabled then
        MakeInvisible()
    end
end)

Players.PlayerRemoving:Connect(function(player)
    if Config.TargetPlayer == player then
        Config.CarryEnabled = false
        Config.TargetPlayer = nil
        MakeVisible()
    end
end)

wait(0.5)
CreateGUI()

print("━━━━━━━━━━━━━━━━━━━━━━━━")
print("✓ Warpah Carry Loaded")
print("━━━━━━━━━━━━━━━━━━━━━━━━")
